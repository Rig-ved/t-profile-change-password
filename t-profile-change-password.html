<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../t-button/t-button.html">
<link rel="import" href="../t-password-input/t-password-input.html">
<link rel="import" href="../t-text-container/travel-element-styles.html" />

<!--
    <h3>Details:</h3>
        The `t-profile-change-password` is a form component for changing or setting user password.
        It uses two components primarily, one being `t-password-input` which is used to get user's 
        password and providing custom validations.The second being `t-button`which is used to 
        record/save the above informations. 
       
        Following are its child components -
        <ul>
          <ol> 1.`t-password-input`</ol>
          <ol> 2.`t-button`</ol> 
        </ul>

         

    <h3>Events:</h3>
        Following events are fired by this component.
           <p>'_changePassword' - fired when user clicks on Reset Password button.</p>
          

    <h3>Example:</h3>

        <t-profile-change-password>
        
        </t-profile-change-password>

    @demo demo/index.html
-->

<dom-module id="t-profile-change-password">
            <style include="travel-element-styles">
                t-button {
                    display: block;
                }                
            </style>
              <template>
                    <!-- content tag to insert header component-->
                    <content select=".t-header"></content>
                   
                    <div class='section-small'>
                        <t-password-input 
                        class="margin-bottom-large" 
                        id="newPassword" 
                        name="newPassword" 
                        label="New Password" 
                        required 
                        value="{{newPassword}}">
                        </t-password-input>
                    </div>
                   
                    <t-button 
                        class="primary row" 
                        label="Reset Password"
                        id="btnResetPassword"
                        on-tap="_changePassword">
                    </t-button>
              </template>

                <script>
                    Polymer({

                        is: 't-profile-change-password',
                        properties: {
                            /**
                            * The current Password to be set
                            * @type Object
                            */
                            newPassword:{
                                type: String,
                                notify:true
                            },
                            /**
                            * The token to call mystique Api
                            * @type Object
                            */
                            userToken:{
                               type: String,
                               notify:true 
                            }
                        },
                        _changePassword:function() {
                            if(this.$.newPassword.validate()){
                                this.fire('reset-profile-password',this.newPassword)
                            }
                        }
                    });
                </script>
</dom-module>
